 

READ ME
----------------------------------------------------------------------------------------------
This folder holds the data files of several publicly available potential drug-drug interaction (PDDI)
knowledge bases. The datasets are placed under a subfolder for each  data source. 

 

------------------------------
DRUGBANK 
------------------------------

Original complete Dataset Obtained from: http://www.drugbank.ca/system/downloads/current/drugbank.xml.zip
Version: 4.0 
Date retrieved: 6/15/2014


SPARQL End Point: http://drugbank.bio2rdf.org/sparql
Drugbank SPARQL Query Used in the Study:

PREFIX n2:	<http://bio2rdf.org/drugbank_resource:>
PREFIX n3:	<http://bio2rdf.org/drugbank_vocabulary:>
PREFIX n4:	<http://bio2rdf.org/drugbank:>
PREFIX n5:	<http://www.w3.org/2000/01/rdf-schema#>
PREFIX rdf:	<http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX xsdh:	<http://www.w3.org/2001/XMLSchema#>

SELECT *
WHERE {
  ?s a n3:Drug-Drug-Interaction; 
     n5:label ?label.
  ?d1 n3:ddi-interactor-in ?s.
  ?d2 n3:ddi-interactor-in ?s.
     FILTER (?d1 < ?d2  ) 
}






------------------------------
NDF-RT
------------------------------

Original complete Dataset Obtained from: http://evs.nci.nih.gov/ftp1/NDF-RT/NDF-RT_XML.zip
Version: 2.0 from  2014-07-07
Date retrieved: 07/15/2014


SPARQL End Point : http://sparql.bioontology.org/sparql
NDF-RT SPARQL Query Used in the Study:

PREFIX owl:  <http://www.w3.org/2002/07/owl#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX ndfrt: <http://purl.bioontology.org/ontology/NDFRT/>
SELECT *
FROM <http://bioportal.bioontology.org/ontologies/NDFRT>
WHERE {
  ?s ndfrt:NDFRT_KIND ?o;
  skos:prefLabel ?label;
  ndfrt:SEVERITY ?severity. FILTER (regex(str(?o), "interaction", "i"))
  ?s ndfrt:has_participant ?targetDrug.
}     



NDF-RT Drugbank Mapping Files: 
UNIIs 10Sept2013 Names.txt - Original FDA UNIIs file for Mapping 
Obtained from: http://fdasis.nlm.nih.gov/srs/jsp/srs/uniiListDownload.jsp

Ndfrt-Drugbank-Mapped.csv - this is the mapped file used in the study. 
			    it is generated by using the following two mapping files
			    from the to previous studies; 

fda-substance-preferred-name-to-drugbank-09292012.csv
NDFRT_RxNorm_mappings.csv  


--7/16/2014 added
NDF-RT to drugbank mappings based on a query against the LinkedSPLs SQL database:

SELECT DISTINCT f.PreferredSubstance, f.Drugbank_Bio2rdf, n.NUI
FROM RXNORM_NDFRT_INGRED_Table n
INNER JOIN FDAPreferredSubstanceToRxNORM a ON n.RxNorm = a.RxNorm
INNER JOIN FDA_SUBSTANCE_TO_DRUGBANK_BIO2RDF f ON f.PreferredSubstance = a.PreferredSubstance
ORDER BY f.PreferredSubstance, n.NUI

The results of the SQL query dumped into the csv file located at ;
	/terminology-mappings/Ndfrt-Drugbank-Mapping.csv

Using the python script "load-NDFRT-Drugbank-Xref-fromCSV.py" the mappings in the csv file converted into 
a pickle file to be used in the overlap analyses. 
The Xref pickle file is stored here; ../pickle-data/ndfrt-ddis-xref.pickle


------------------------------
TWOSIDES 
------------------------------

 
Original complete Dataset Obtained from Pharmgkb: 
http://www.pharmgkb.org/redirect.jsp?p=ftp%3A%2F%2Fftpuserd%3AGKB4ftp%40ftp.pharmgkb.org%2Fdownload%2Ftatonetti%2F3003377s-twosides.zip 
Version: N/A
Date retrieved: 6/25/2014 
 
SPARQL End Point for checking Chemical Compound: http://drugbank.bio2rdf.org/sparql
PubChem SPARQL Query Used in the Study:

PREFIX n3:	<http://bio2rdf.org/drugbank_vocabulary:>

SELECT *
WHERE {
  ?s a n3:Drug;
     n3:xref ?pubchem. 
  FILTER regex(str(?pubchem),"http://bio2rdf.org/pubchem")
}
 

 
TWOSIDES Drugbank Mapping Files:  

twosides-ddis.pickle - this is the mapped file used in the study. 
		       it is generated by using the following mapping file;


pubchem-to-drugbank-mapping.pickle - this is the pickle file with Chem compounds of Drugbank drugs



------------------------------
DIKB 
------------------------------

Original complete Dataset dump placed under DIKB subversion folder by Dr. Boyce
there are two data representation files, RDF and SQL Dump, under the folder for for DIKB.

SPARQL End Point:  http://dbmi-icode-01.dbmi.pitt.edu/dikb/sparql
DIKB SPARQL Query Used in the study:

PREFIX swanpav: <http://purl.org/swan/1.2/pav/>
PREFIX meta: <http://www4.wiwiss.fu-berlin.de/bizer/d2r-server/metadata#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX prvTypes: <http://purl.org/net/provenance/types#>
PREFIX swandr: <http://purl.org/swan/1.2/discourse-relationships/>
PREFIX d2r: <http://sites.wiwiss.fu-berlin.de/suhl/bizer/d2r-server/config.rdf#>
PREFIX map: <file:////home/rdb20/Downloads/d2r-server-0.7-DIKB/mapping.n3#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX swande: <http://purl.org/swan/1.2/discourse-elements#>
PREFIX dc: <http://purl.org/dc/elements/1.1/>
PREFIX prv: <http://purl.org/net/provenance/ns#>
PREFIX db: <http://dbmi-icode-01.dbmi.pitt.edu:2020/resource/>
PREFIX siocns: <http://rdfs.org/sioc/ns#>
PREFIX foaf: <http://xmlns.com/foaf/0.1/>
PREFIX prvFiles: <http://purl.org/net/provenance/files#>
PREFIX ndfrt: <http://purl.bioontology.org/ontology/NDFRT/>
PREFIX obo: <http://purl.obolibrary.org/obo/>
PREFIX ncbit: <http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl#>
PREFIX dikbEvidence: <http://dbmi-icode-01.dbmi.pitt.edu/dikb-evidence/DIKB_evidence_ontology_v1.3.owl#>
PREFIX dikbD2R: <http://dbmi-icode-01.dbmi.pitt.edu:2020/vocab/resource/>
PREFIX swanco: <http://purl.org/swan/1.2/swan-commons#>
PREFIX prvIV: <http://purl.org/net/provenance/integrity#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX swanci: <http://purl.org/swan/1.2/citations/>

SELECT * WHERE {
  ?s dikbD2R:ObjectDrugOfInteraction ?o.
  ?s dikbD2R:PrecipitantDrugOfInteraction ?p.
  ?s rdf:type dikbD2R:DDIObservation.
  ?s rdfs:label ?label.
  ?o owl:sameAs ?oDB.
  ?p owl:sameAs ?pDB.
}





------------------------------
CredibleMeds
------------------------------

Original complete Dataset Obtained from : http://www.crediblemeds.org/healthcare-providers/drug-drug-interaction
Date retrieved: 9/20/2014


credibleMeds-listing-09202014.csv - This is the list with intereacting drug names and Drugbank mappings generated manually.
 
CredibleMeds.xlsx - This is the list with all available fields along with Drugbank mappings manually.





------------------------------
KEGG 
------------------------------

Original complete Dataset Obtained from : ftp://ftp.genome.jp/pub/kegg/medicus/drug/drug
Date retrieved: 7/21/2014
 
 
all-kegg-drugs-7212014.txt -  Contains the list of all Kegg drugs, downloaded from the Kegg FTP site.
KEGG-Drugs.txt - drug data with all available information in text 

drugbank-to-kegg-mapping.csv - this is the file used in the study. it contains the mappings from Kegg to Drugbank 
			       for all drugs in Bio2RDF with an xref containing the text "kegg".

This is the link to KEGG Medicus API : <http://www.kegg.jp/kegg/rest/keggapi2.html> 



------------------------------
ONC High Priority DDI List
------------------------------

Date retrieved: 7/1/2014

The list of DDIs were pulled from the Classen Article below. Lisa E Hines, PharmD and Daniel C. Malone, RPh, PhD had the list extracted to an Excel file.
They kindly provided us the list in tabular Excel file, which is available in this repository under the folder;
https://swat-4-med-safety.googlecode.com/svn/trunk/SW-DDI-catalog/drug-drug-interactions/PDDI-Datasets/ONC-High-Priority/ 

in the Excel file, Lisa noted that there was a typographic error that she discovered in the "table 2" sheet (originating in the Phansalker paper) 
that caused a whole set of drugs to be mis-labeled 'object' drugs. So, we used the "revised table 2" in our linking study because it corrects the error. 


The list of DDIs in the publication were set of classes rather than individual drugs. The Excel file from Lisa and Don, already identified the most of the drugs 
belonging to each class. There were two classes that had no drugs specified in the file:
Tricyclic antidepressants(TCAs) 
and QT prolonging agents

for TCAs, We investigated the list of drugs belonging the class and confirmed with our drug expert John Horn, PharmD. Also, based on John's expert suggestion
we used CredibleMeds.com's QT prolonging agents with Known TdP Risk drugs that is known to be the very reliable list for QT prolonging agents.

 
Then, the list was imported into Relational Database in order to obtain the corresponding Drugbank IDs for the drugs.

For the mapping the drugs from the ONC list to Drugbank version 4, we used SQL queries to match the Drug Names. 


The final mapped List, contains the following fields:
id from the publication, 
drug 1 class or grouping (if applicable), 
drug 1 name, 
drug 1 drugbank id, 
drug 1 drugbank URI (web namespace), 
drug 1 drugbank URI (bio2rdf namespace), 
drug 2 class or grouping (if applicable), 
drug 2 name, 
drug 2 drugbank id, 
drug 2 drugbank URI (web namespace), 
drug 2 drugbank URI (bio2rdf namespace)


The original Publications:
Phansalkar S, Desai AA, Bell D, et al. High-priority drug-drug interactions for use in electronic health records. 
J Am Med Inform Assoc. 2012;19:735-43. doi: 10.1136/amiajnl-2011-000612. PMID: 22539083 
http://jamia.bmj.com/content/19/5/735.abstract


Classen DC, Phansalkar S, Bates DW. Critical drug-drug interactions for use in electronic health records systems 
with computerized physician order entry: review of leading approaches. J Patient Saf. 2011 Jun;7(2):61-5. 
doi: 10.1097/PTS.0b013e31821d6f6e. Review. PubMed PMID: 21577077. http://www.ncbi.nlm.nih.gov/pubmed/21577077




------------------------------
ONC Non-Interuptive DDI List
------------------------------
 
Date retrieved: 7/1/2014

The list of DDIs were pulled from the Phansalkar Article below. We extractedd the list from the article into an tabular Excel file manually.
The Excel file is available in this repository under the folder;
https://swat-4-med-safety.googlecode.com/svn/trunk/SW-DDI-catalog/drug-drug-interactions/PDDI-Datasets/ONC-Non-Interuptive/
 

The list of DDIs in the publication were set of classes rather than individual drugs. For the drug classes, we investigated individual drugs belonging to each class  
and obtained all the drugs for each drug group.Then, we confirmed the list with our drug expert John Horn, PharmD. He verifiede list and provided the drugs missing 
from  each group when applicable.

 
Then, the final list was imported into Relational Database in order to obtain the corresponding Drugbank IDs for the drugs.

For the mapping the drugs from the ONC Non-Interuptive list to Drugbank version 4, we used SQL queries to match the Drug Names. 
 


The final mapped List, contains the following fields:
id from the publication, 
drug 1 class or grouping (if applicable), 
drug 1 name, 
drug 1 drugbank id, 
drug 1 drugbank URI (web namespace), 
drug 1 drugbank URI (bio2rdf namespace), 
drug 2 class or grouping (if applicable), 
drug 2 name, 
drug 2 drugbank id, 
drug 2 drugbank URI (web namespace), 
drug 2 drugbank URI (bio2rdf namespace)


The original Publication:
Phansalkar S, van der Sijs H, Tucker AD, Desai AA, Bell DS, Teich JM,Middleton B, Bates DW. Drug-drug interactions that should be non-interruptive 
in order to reduce alert fatigue in electronic health records. J Am Med Inform Assoc. 2013 May 1;20(3):489-93. doi: 10.1136/amiajnl-2012-001089. 
Epub 2012 Sep 25. PubMed PMID: 23011124;PubMed Central PMCID: PMC3628052.  



------------------------------------------------------------
OSCAR EMR 
------------------------------------------------------------

* Dataset and Source Location

From the OSCAR documentation (https://sites.google.com/site/oscarusermanual/-oscar-emr/3-0-clinical-functions/3-7-1), we found the pointer that the Drug database for Oscar using is called Drugref2.

 
Drugref2 has its own application and sub-project under google code here:
https://code.google.com/p/drugref2/source/checkout

The SQL Dump of the dataset is available under the Oscar Project with date "2012-09-18"
http://sourceforge.net/p/oscarmcmaster/oscar/ci/master/tree/release/drugref.sql

SQL dump also available here; 
https://github.com/scoophealth/oscar/blob/master/release/drugref.sql
  

We downloaded the original interactions from Drugref2 to here; 
../PDDI-Datasets/OSCAR/drugref2-DDIs-from-OSCAR.csv


The following descriptions about Drugref are referenced from; http://wiki.gnumed.de/bin/view/Gnumed/DrugRef

The Oscar implementation of drugref contains both Canadian DPD data and Crowther / Holbrook interaction data from the publication by these authors;
"Crowther, N. R., Holbrook, A. M., Kenwright, R., & Kenwright, M. (1997). 
Drug interactions among commonly used medications.
Chart simplifies data from critical literature review. Canadian Family Physician, 43, 1972."


"The original drugref involved a postgres database, python XML-RPC API, and php interface.

Oscar McMaster EMR reworked drugref into (what they refer to) as drugref2:
Oscar never did use the PHP interface (meant for maintaining a monolithic database)
Oscar originally imported Canadian DPD data into the original drugref schema, but found this slow. 
subsequently let Canadian DPD data imports persist (as imported) in additional tables and added (a python?) DPD plugin to supply needed server-side data to the API (versioned in the oscar cvs hosted on sourceforge, but hosted for the most part on savannah)
added tables to speed searching
imported later-acquired Holbrook interactions data
ported to mysql
in 2009
 made a java version of the API (as an alternative to the pythonic API)
 implemented the database layer in JPA (Java Persistence API), which has made it easier to support both Postgresql and Mysql
 http://code.google.com/p/drugref2/source/checkout
 you can run the java drugref webapp on-top of an existing postgresql drugref database and it works"
 

* mapping from ATC to RxNorm to DrugBank

Example query of ATC code to get RxNorm CUI using OMOP Standard Vocabulary 4.4: 

---
SELECT  C.concept_id    ingredient_concept_id,
        C.concept_name  ingredient_concept_name,
        C.concept_class ingredient_concept_class,
        C.concept_code  ingredient_concept_code
 FROM   concept          C,
        concept          D,
        concept_ancestor CA
 WHERE  d.concept_code = 'H03AA03'
   AND CA.ancestor_concept_id = d.concept_id
   AND  C.concept_id           = CA.descendant_concept_id
   AND  C.vocabulary_id        = 8
   AND  C.concept_level        = 2;
---


* Mapping from RxNorm to DrugBank using LinkedSPLs RDB April 2014:

---

SELECT * FROM `FDAPreferredSubstanceToRxNORM` INNER JOIN 
              `FDA_SUBSTANCE_TO_DRUGBANK_BIO2RDF` ON  
              `FDAPreferredSubstanceToRxNORM`.PreferredSubstance = `FDA_SUBSTANCE_TO_DRUGBANK_BIO2RDF`.PreferredSubstance 
WHERE 
`FDAPreferredSubstanceToRxNORM`.RxNORM IN ('http://purl.bioontology.org/ontology/RXNORM/6703','http://purl.bioontology.org/ontology/RXNORM/6691','http://purl.bioontology.org/ontology/RXNORM/14584','http://purl.bioontology.org/ontology/RXNORM/7514','http://purl.bioontology.org/ontology/RXNORM/7518','http://purl.bioontology.org/ontology/RXNORM/22656','http://purl.bioontology.org/ontology/RXNORM/6373','http://purl.bioontology.org/ontol ogy/RXNORM/24591','http://purl.bioontology.org/ontology/RXNORM/6529','http://purl.bioontology.org/ontology/RXNORM/7519','http://purl.bioontology.org/ontology/RXNORM/1005921')


* Following are the descriptions for abbreviations used in the OSCAR drug Interactions;
Effect Column has Initials 'A', 'I','N' meaning;
'A'=Augments
'I'=Inhibits
'N'=No Effect
 
Evidence Column has Initials 'P', 'G','F' meaning;
'P'=Poor
'G'=Good
'F'=Fair


Significance 1 is the lowest and 3 is highest value. 

------------------------------------------------------------
DDI Corpus 2011 and DDI Corpus 2013
------------------------------------------------------------

Date retrieved: 7/15/2014

* Dataset and Source Location
The datasets were downloaded from Dr. Isabel Segura-Bedmar's site in June 2014: 
http://labda.inf.uc3m.es/doku.php?id=en:labda_ddicorpus



The DDI corpus is made up of texts selected from the DrugBank database and Medline abstracts.
In order to combine the dataset, we developed a simple .Net app that combines XML files into one XML file.  
We, then imported the XML file into a relational database and parsed the DDIs from the XML file and saved the results to database tables. 


Since the DDI corpuses were developed for NLP tasks, the only identifier that they have in there is the interacting drug names.
we were able to map the drugs back to Drugbank when the names match in order to obtain the corresponding Drugbank IDs for the drugs. However, not all of them match the Drugnames. 
  


For the DDI extraction from the XML files, we used the Annotation guidelines developed for the Semeval 2013-DDI Extraction 2013 challenge;
http://labda.inf.uc3m.es/DrugDDI/annotation_guidelines_ddi_corpus.pdf



The DDI Corpus datasets are based on the original publications below:

"María Herrero-Zazo, Isabel Segura-Bedmar, Paloma Martínez, Thierry Declerck, 
The DDI corpus: An annotated corpus with pharmacological substances and drug–drug interactions, 
Journal of Biomedical Informatics, Volume 46, Issue 5, October 2013, Pages 914-920, 
http://dx.doi.org/10.1016/j.jbi.2013.07.011."


"Isabel Segura-Bedmar, Paloma Martínez, María Herrero-Zazo. SemEval-2013 Task 9 : 
Extraction of Drug-Drug Interactions from Biomedical Texts (DDIExtraction 2013). 
In Proceedings of the 7th International Workshop on Semantic Evaluation (SemEval 2013)."
http://www.cs.york.ac.uk/semeval-2013/accepted/76_Paper.pdf



------------------------------------------------------------
NLM Corpus  
------------------------------------------------------------

* Dataset and Source Location
The dataset was kindly provided by Johann Stan from NLM in August 2014.



Similar to the DDI corpus, the NLM Corpus is also made up of text and XML files.And The structure of the XML files were annotated similar to the DDI Corpus annotation.
In order to combine the dataset, we utilized our .Net app that combines XML files into one XML file.  
We, then imported the XML file into a relational database and parsed the DDIs from the XML file and saved the results to database tables. 


NLM Corpus provides RX_CUIs for some entities but it is not populated for all entities. When available, we used the RX_CUIs to link our FDA_RXNORM_DRUGBANK mapping table
to get the DrugbankIDs for those drugs. We additionally, utilized the interacting drug names and mapped the drugs back to Drugbank 
when the names match but RXCUIs not provided for the drugs. However, there were still a large number of drugs that did not match using these methodologies. 
  


We noticed some issues with the dataset due to incomplete annotations such as;
Some Drug interaction statements provide interacting drug entities e1 and e2 but the first entity (e1) is a string (labelDrug).
not an entity with ID, e.g. e1="labelDrug" as below;
<pair ddi="true" e1="labelDrug" e2="Dailymed.f6f3c339-2c9d-4d07-14a1-6d6c7daf26c6.s.95.e.3"/>

The following was Johann's response and suggestion to these cases;
"If the string entityDrug is present within a pair, it means that it’s the label drug. 
In the beginning of each file, it’s the tag <labelDrug> that designates this entity. This usually happens when the sentence only mentions the precipitant drug. 
It’s not the best approach by I was unable to find a better solution right now. It might be better to skip these in the first integration attempt.

    E.g.: “Risk factors for the development of hyperkalemia include renal insufficiency, diabetes mellitus, and the concomitant use of potassium-sparing diuretics, 
    potassium supplements and/or potassium-containing salt substitutes.”  - no mention of the object drug, an ellipse is used (concomitant use of). 
    we therefore infer it’s the SPL label drug.
"



Also, the NLM Corpus provides additional supporting information regarding the interaction with the elements<interaction trigger> ,the <drugInteraction> 
,<anaphoraRelation> and <anaphoraEntity>. However, there were some challenges to get to these tags for given entities in the interaction. 
Hence, Johann provided following explaination and suggestion to skip these details for the first integration.
 
"	-With regards to the interaction triggers within the drugInteraction tags, these are the text spans that indicate the interaction trigger 
	(e.g. decrease AUC, increase AUC, hyperkalemia, etc.). I do not repeat them when listing the interacting pairs. 
	In the first integration, I think it’s better to parse only the pairs and disregard the druginteraction tags.

	-Same for anaphoras. This are cases when the object or precipitant drugs are in a previous sentence. Skip them for the first integration.

 	Basically, to make it simple, I think the best would be to parse only pair tags where both entities have an ID and attach the corresponding sentence
."
 
Therefore, We only used the interaction statements within the <pair> tag when both e1 and e2 has entity IDs.



------------------------------------------------------------
SEMMEDDB - Semantic MEDLINE Database 
------------------------------------------------------------

* Dataset and Source Location
The SemMedDB dataset was kindly pulled by Majid Rastegar-Mojarad in our team in May 2014.
 

It is a database of semantic predictions extracted from Medline abstracts. The predictions are extracted by SemRep [1] that uses UMLS (especially Semantic Network)
 to extract semantic predictions from biomedical free text. SemMedDB contains around 70 million predictions such as:

Hemofiltration-TREATS-Patients 
Digoxin overdose-PROCESS_OF-Patients 
hyperkalemia-COMPLICATES-Digoxin overdose 
Hemofiltration-TREATS (INFER)-Digoxin overdose

those are extracted from this sentence:
“We used hemofiltration to treat a patient with digoxin overdose that was complicated by refractory hyperkalemia.”

For our application, Majid extracted all “INTERACTS_WITH” predictions and stored them in a csv file. The table contains 7 columns:
1)	PMID
2)	Subject CUI
3)	Subject name
4)	Object CUI
5)	Object Name

As CUIs for subject and object are provided, which allows extracting more information about them from UMLS. 

As PMIDs are provided, it is possible to extract more information from Medline and generate another file with these columns: 
1)	Subject name
2)	Object Name
3)	Evidence (PMID)
4)	Evidence Source (Journal)
5)	Evidence Type (Type of citation)
6)	Link ( Link to citation in PubMed)

 

in the CSv file there were some rows with multiple CUIs separated by Vertical bar in Cui field like example below.  
4907215	     C1366490|||156 	ADRBK1 gene|||ADRBK1


We imported the CSV file into a relational database and extracted the all CUIs and drugs in the interaction. Then, we used UMLS CUI to RxCUI Mapping to
get the RX_CUIs. We then utilized the RX_CUIs to link our FDA_RXNORM_DRUGBANK mapping table to get the DrugbankIDs for those drugs.  


[1] Rindflesch, T.C. and Fiszman, M. (2003). The interaction of domain knowledge and linguistic structure in natural language processing:
 interpreting hypernymic propositions in biomedical text. Journal of Biomedical Informatics, 36(6), 462-477.


Links:
http://skr3.nlm.nih.gov/SemMedDB/index.jsp
http://skr3.nlm.nih.gov/SemMed/
http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3509487/
 

------------------------------------------------------------
PK DDI Corpus
------------------------------------------------------------
* Dataset and Source Location
The the "gold standard" list of DDIs from the U of Pitt NLP Corpora was kindly pulled by Dr. Richard Boyce in July 2014.
 

Below is the format of the csv file;

section#
Drug 1 type
Drug 1 mention
annotation agent
Drug 1 starting offset
Drug 1 ending offset
Drug 2 type
Drug 2 mention
annotation agent
abbreviation translation
Drug 2 start offset
Drug 2 end offset
*DDI modality (positive = the drugs do interact, negative = the drugs DO NOT interact)*
DDI statement type
snippit of DDI statement


We imported the csv file into a relational database and parsed the DDIs from the XML file and saved the results to database tables. 
We used the RX_CUIs to link our FDA_RXNORM_DRUGBANK mapping table to get the DrugbankIDs for those drugs. We additionally, utilized the interacting drug names 
and mapped the drugs back to Drugbank.



-----------------------------------------------------------------
HOW THE DRUGBANK AND CHEBI MAPPINGS ARE CREATED (March/April 2014):
-----------------------------------------------------------------

(1) download drugbank.xml from drugbank and 25Jan2014 Records.txt as UNNIs records

run script parseDBIdAndUNIIsByInChikey.py to get the mappings of inchikey and drugbank URI
Using inchikey, you can mapping drugbank id to UNIIs in UNIIs 25Jan2014 Records.txt by
    
$ python parseDBIdAndUNIIsByInChikey.py > PT-UNIIs-Drugbank-03202014.txt

output terms: FDA Preferred Term, UNII, DrugBank name, DrugBank URI
output file: PT-UNIIs-Drugbank-03202014.txt


(2) run script parseDBIdAndChEBI.py to get mappings of UNIIs drugbank
URI and chebi URI into PT-ChEBI-Drugbank-03202014.txt. This script
depends on FDA_UNII_to_ChEBI_03132014.txt which was generated using
code in
https://swat-4-med-safety.googlecode.com/svn/trunk/linkedSPLs/UNII-to-ChEBI-mapping

$ python parseDBIdAndChEBI.py > PT-ChEBI-Drugbank-03202014.txt

output terms: FDA Preferred Term, DrugBank Term, ChEBI URI, DrugBank URI
output file: PT-ChEBI-Drugbank-03202014.txt

TODO: other properties may use as key to generate new mappings of drugbank id and UNIIss
UNII MF EINECS RN NCIt ITIS NCBI PLANTS SMILES


(3) To validate the mapping, the results from the INCHI and ChEBI
approaches were placed into a single file that was sorted and reviewed
by a pharmacist for accuracy.

cat PT-UNIIs-Drugbank-03202014.txt | cut -f1,3,4 > UNII-to-DrugBank-test-mapping-03272014.tsv
cat PT-ChEBI-Drugbank-03202014.txt | cut -f1,2,3 >> UNII-to-DrugBank-test-mapping-03272014.tsv

(4) All questionable mapping were removed by highlighting them during
review in Excel, then using a MACROs to remove them. See UNII-to-DrugBank-test-mapping-03272014-RDB-questionable-mappings-removed.xlsm

(5) The final FDA Preferred name to DrugBank mapping was exported to FDA_UNII_to_DrugBank_03132014.txt (NOTE: file is ASCII encoded)

$ python addBio2rdf_UNII_to_DrugBank.py | cut -f 1,3,4  > FDA_SUBSTANCE_TO_DRUGBANK_BIO2RDF-04082014.txt

$ mysql -u root -p --local-infile linkedSPLs

LOAD DATA LOCAL INFILE "/PATH/TO/FDA_SUBSTANCE_TO_DRUGBANK_BIO2RDF-04082014.txt" INTO TABLE FDA_SUBSTANCE_TO_DRUGBANK_BIO2RDF(PreferredSubstance, DRUGBANK_CA, DRUGBANK_BIO2RDF);

(6) The final FDA Preferred name to ChEBImapping was exported to FDA_UNII_to_ChEBI_03132014.txt (NOTE: file is ASCII encoded)

$ cat FDA_UNII_to_ChEBI_03132014.txt | cut -f 1,3 -d '|' > FDA_UNII_to_ChEBI-04082014.txt

LOAD DATA LOCAL INFILE './FDA_UNII_to_ChEBI_04082014.txt' INTO TABLE FDA_UNII_to_ChEBI FIELDS TERMINATED BY '|' LINES TERMINATED BY '\n' (PreferredSubstance, ChEBI); 

(7) Exported a table with the following columns and submitted to OHDSI:
FDA_PreferredTerm       FDA_UNII        RxNorm_CUI      DrugBank_Name   DrugBank_CUI    ChEBI_CUI

TODO (04/04/2014):

- add a new column for the bio2rdf mapping to both FDA_UNII_to_ChEBI_03132014.txt and FDA_UNII_to_DrugBank_03132014.txt

- drop and reload the tables in the RDB (see ../README) 

- test

- Revise the way that drugs are represented in LinkedSPLs so that each
  SPL resource has a resource with a FDA UNII PURL. That resource will
  be where we place the drug terminology mappings, including NDF-RT
  class mappings

- Bring in Hassanzadeh's mappings once tested and re-export the mappings

-----------------------------------------------------------------
HEP, HIV Drug Interactions (January 2016):
-----------------------------------------------------------------

1) Go to www.hep-druginteractions.org/view_all_interactions/new or www.hiv-druginteractions.org/view_all_interactions/new depending on which dataset you are working on downloading.

2) Pick the drug that you want to retrieve all interactions for and then click Submit
3) A page with a table of interactions will be shown. Click on the colored shape in the first row of the table.
4) A page with the specific interaction will appear. A link at the bottom of the page will be present in a statement like "View all available interactions with <drug> by clicking here." Click on the "here" link.
5) This will bring a page of all interactions for the drug. Select "view source" in your browser and save the HTML file to the appropriate folder. 
6) Give the file a name like <drug>_interactions_<drug id>_all.html where <drug> is the drug you selected and <drug id> is and identifier for the drug within the website

Same process done for HIV-Insite-Drug-Interactions (url: arv.ucsf.edu/insite?page=ar-00-02) but word documents were also created through copying and pasting the tables for each drug under "Search by Antiretroviral Drug". File names were simply the drug name before the parentheses.

